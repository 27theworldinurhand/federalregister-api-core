<% f.fields_for :publication_date, f.object.publication_date do |publication_date_f| %>
  <% f.inputs :name => "Publication Date" do %>
    <%= publication_date_f.input :is %>
    <%= publication_date_f.input :year,
                                 :as => :select,
                                 :collection => (1994..Issue.current.year) %>
    <%= publication_date_f.input :gte,
                                 :label => "On or after" %>
    <%= publication_date_f.input :lte,
                                 :label => "On or before" %>
  <% end %>
<% end %>

<% f.inputs do %>
  <%= f.input :agency_ids,
              :as => :select,
              :label => "Agencies",
              :include_blank => false,
              :input_html => {:multiple => true},
              :value_method => Proc.new{|a| a.id.to_s},
              :collection => Agency.all %>
  <%= f.input :type,
              :label => "Document Category",
              :as => :check_boxes,
              :collection => EntrySearch::TYPES %>
  <%= f.input :docket_id,
              :label => "Agency Docket" %>
  <%= f.input :regulation_id_number,
              :label => "Regulation ID Number" %>
  <%= f.input :significant,
              :as => :boolean,
              :label => "Deemed Significant by OIRA",
              :unchecked_value => '' %>
<% end %>

<% f.fields_for :cfr, f.object.cfr do |cfr_f| %>
  <% cfr_f.inputs :name => "Affect CFR Part" do %>
    <%= cfr_f.input :title %>
    <%= cfr_f.input :part %>
  <% end %>
<% end %>
  
<% f.inputs :name => "Mentioning Locations Near" do %>
  <%= f.input :location,
              :input_html => {:placeholder =>  "Zip Code", :class => 'zip'} %>
  <%= f.input :within,
              :as => :select,
              :collection => %w(5 10 25 50 100 200).map{|n| ["#{n} miles", n]} %>
<% end %>