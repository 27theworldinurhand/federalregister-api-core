<div class="result_set" data-number-of-results="<%= @search.count %>">
  <%= render :partial => "search/filters", :locals => {:search => @search} %>
  
  <%= render :partial => "citation", :locals => {:search => @search} if @search.filters.blank? && params[:order].blank?%>
  <%= render :partial => "document_number", :locals => {:search => @search} if @search.filters.blank? && params[:order].blank?%>
    
  <% if @search.results.present? %>
    <div class="search_info">
      <div class="article_count">
        <h2 class="title_bar"><span class="small_stack">Articles <span>Found</span></span> <%= number_with_delimiter @search.count %></h2>
      </div>

      <ul class="actions">
        <% @search.supported_orders.each do |order| %>
          <li class="<%= 'on' if @search.order == order.downcase %>">
            <%= link_to order, params.merge(:order => order.downcase, :action => :show), :class => '' %>
          </li>
        <% end %>
      </ul>
    </div>
    
    <ol class="results">
      <%= render :partial => 'result', :collection => @search.results, :as => :entry %>
    </ol>
    <%= will_paginate @search.results, :params => {:action => :show} %>
  <% else %>
    <p>No articles were found.</p>
  <% end %>
</div>